<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>AI SLIDE FACTORY</title>
    <style>
        body { margin: 0; display: flex; height: 100vh; font-family: sans-serif; background: #1a1a1a; color: white; overflow: hidden; }
        /* å·¦ä¾§é¢æ¿æ ·å¼ */
        #sidebar { width: 350px; background: #0f172a; padding: 25px; box-shadow: 2px 0 10px rgba(0,0,0,0.5); z-index: 10; display: flex; flex-direction: column; }
        h2 { color: #00d4ff; margin-bottom: 30px; letter-spacing: 1px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-size: 13px; color: #94a3b8; }
        input { width: 100%; padding: 12px; background: #1e293b; border: 1px solid #334155; border-radius: 6px; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background: #00bae7; border: none; border-radius: 6px; color: white; font-weight: bold; cursor: pointer; margin-top: 10px; transition: 0.3s; }
        button:hover { background: #0099be; }
        /* å³ä¾§é¢„è§ˆåŒºæ ·å¼ */
        #preview { flex: 1; background: #000; position: relative; }
        iframe { width: 100%; height: 100%; border: none; }
        #status { margin-top: auto; padding: 10px; font-size: 12px; color: #64748b; border-top: 1px solid #334155; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>SLIDE FACTORY</h2>
    
    <div class="input-group">
        <label>å¹»ç¯ç‰‡ä¸»é¢˜ (TOPIC)</label>
        <input type="text" id="topic" placeholder="ä¾‹å¦‚ï¼šæ•°å­—å­ªç”Ÿè§£å†³æ–¹æ¡ˆ...">
    </div>

    <div class="input-group">
        <label>ç›®æ ‡å—ä¼— (AUDIENCE)</label>
        <input type="text" id="audience" placeholder="ä¾‹å¦‚ï¼šä¼ä¸šé«˜ç®¡ã€æŠ•èµ„è€…...">
    </div>

    <button onclick="generate()">ğŸš€ å¼€å§‹ä¸€é”®ç”Ÿæˆ</button>

    <div id="status">ç³»ç»ŸçŠ¶æ€: å°±ç»ª (Ready)</div>
</div>

<div id="preview">
    <iframe id="slideFrame" src="https://kojimaikuo222-dotcom.github.io/ai-slide-factory/"></iframe>
</div>

<script>
    async function generate() {
        const topic = document.getElementById('topic').value;
        const audience = document.getElementById('audience').value;
        const status = document.getElementById('status');
        
        if (!topic) return alert('è¯·è¾“å…¥ä¸»é¢˜');
        
        status.innerText = 'ç³»ç»ŸçŠ¶æ€: æ­£åœ¨å‘é€æŒ‡ä»¤...';

        try {
            // ã€å…³é”®ã€‘è¿™é‡Œå¡«ä½  localtunnel çš„åœ°å€
            const webhookUrl = 'ä½ çš„LOCALTUNNELåœ°å€/webhook/create-ppt';
            
            await fetch(webhookUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ topic, audience })
            });

            status.innerText = 'ç³»ç»ŸçŠ¶æ€: æ­£åœ¨ç”Ÿæˆ PPT (çº¦éœ€ 1 åˆ†é’Ÿ)...';
            
            // 1åˆ†é’Ÿååˆ·æ–°å³ä¾§é¢„è§ˆ
            setTimeout(() => {
                document.getElementById('slideFrame').contentWindow.location.reload();
                status.innerText = 'ç³»ç»ŸçŠ¶æ€: å·²å®Œæˆæ›´æ–°';
            }, 60000);

        } catch (err) {
            status.innerText = 'ç³»ç»ŸçŠ¶æ€: å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥éš§é“';
        }
    }
</script>

</body>
</html>